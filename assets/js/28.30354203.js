(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{432:function(t,s,a){"use strict";a.r(s);var n=a(54),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"运行时加载配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行时加载配置"}},[t._v("#")]),t._v(" 运行时加载配置")]),t._v(" "),a("h2",{attrs:{id:"unity-json-项目中使用luban生成代码-需要依赖哪些库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unity-json-项目中使用luban生成代码-需要依赖哪些库"}},[t._v("#")]),t._v(" unity + json 项目中使用luban生成代码，需要依赖哪些库")]),t._v(" "),a("p",[t._v("只需要将 "),a("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Csharp_Unity_json/Assets/LubanLib",target:"_blank",rel:"noopener noreferrer"}},[t._v("LubanLib"),a("OutboundLink")],1),t._v(" 目录复制到项目即可。")]),t._v(" "),a("h2",{attrs:{id:"在其他项目中使用luban生成代码-需要依赖哪些库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在其他项目中使用luban生成代码-需要依赖哪些库"}},[t._v("#")]),t._v(" 在其他项目中使用luban生成代码，需要依赖哪些库")]),t._v(" "),a("p",[t._v("在"),a("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Projects",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例项目"),a("OutboundLink")],1),t._v("中找到跟你项目情况匹配的示例项目，将Luban相关的基础代码导入到你们项目即可。")]),t._v(" "),a("h2",{attrs:{id:"我把代码加入项目-发现有编译错误-找不到-bytebuf类-如何解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#我把代码加入项目-发现有编译错误-找不到-bytebuf类-如何解决"}},[t._v("#")]),t._v(" 我把代码加入项目，发现有编译错误，找不到 ByteBuf类，如何解决？")]),t._v(" "),a("p",[t._v("因为你没有把luban依赖的一些代码加入项目。 参考上面的回答。")]),t._v(" "),a("h2",{attrs:{id:"在unity项目中使用c-代码加载json配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在unity项目中使用c-代码加载json配置"}},[t._v("#")]),t._v(" 在unity项目中使用c#代码加载json配置")]),t._v(" "),a("p",[t._v("只需一行代码")]),t._v(" "),a("div",{staticClass:"language-c# line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 一行代码可以加载所有配置。 cfg.Tables 包含所有表的一个实例字段。\nvar tables = new cfg.Tables(Loader);\n// 访问一个单例表\nConsole.WriteLine(tables.TbGlobal.Name);\n// 访问普通的 key-value 表\nConsole.WriteLine(tables.TbItem.Get(12).Name);\n// 支持 operator []用法\nConsole.WriteLine(tables.TbMail[1001].Desc);\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("请自行实现合适的Loader函数，根据配置文件名file返回一个加载好的ByteBuf。 可借鉴"),a("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Projects/Csharp_Unity_json",target:"_blank",rel:"noopener noreferrer"}},[t._v("Csharp_Unity_Json"),a("OutboundLink")],1),t._v("中的代码。")]),t._v(" "),a("h2",{attrs:{id:"在unity-puers项目中使用typescript加载json配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在unity-puers项目中使用typescript加载json配置"}},[t._v("#")]),t._v(" 在unity+puers项目中使用typescript加载json配置")]),t._v(" "),a("div",{staticClass:"language-typescript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一行代码可以加载所有配置。 cfg.Tables 包含所有表的一个实例字段。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" tables "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("cfg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Tables")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 访问一个单例表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TbGlobal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 访问普通的 key-value 表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TbItem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("请自行实现一个Loader的函数，根据表file 返回一个解析好的JSON对象。可借鉴 "),a("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Projects/TypeScript_Unity_Puerts_Json",target:"_blank",rel:"noopener noreferrer"}},[t._v("Typescript_Unity_Puerts_Json"),a("OutboundLink")],1),t._v("中代码")]),t._v(" "),a("h2",{attrs:{id:"如何在go项目中加载json配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何在go项目中加载json配置"}},[t._v("#")]),t._v(" 如何在go项目中加载json配置")]),t._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一行代码可以加载所有配置。 cfg.Tables 包含所有表的一个实例字段。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" tables "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" cfg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewTables")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 访问一个单例表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TbGlobal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 访问普通的 key-value 表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TbItem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("请自行实现一个合适的loader函数，根据配置文件 file，返回一个Json对象")]),t._v(" "),a("h2",{attrs:{id:"python-2-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-2-json"}},[t._v("#")]),t._v(" python 2 + json")]),t._v(" "),a("p",[t._v("与其他相似，取 --gen_types code_python27_json,data_json。但需要额外安装enum34包，可通过命令 'py -2 -m pip install enum34' 安装。")]),t._v(" "),a("h2",{attrs:{id:"如果我用的语言是java-python-c-rust-lua-等等-如何加载配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果我用的语言是java-python-c-rust-lua-等等-如何加载配置"}},[t._v("#")]),t._v(" 如果我用的语言是java,python,c++,rust,lua 等等，如何加载配置")]),t._v(" "),a("p",[t._v("请参见  "),a("a",{attrs:{href:"https://github.com/focus-creative-games/luban_examples/tree/main/Projects",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例项目"),a("OutboundLink")],1),t._v("。找到与你项目类型相符的示例项目，参考其加载\n代码即可。")])])}),[],!1,null,null,null);s.default=e.exports}}]);